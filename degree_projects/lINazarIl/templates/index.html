{% extends 'base.html' %}
{% block content %}
    <nav class="navbar">
        <form action="index.html" method="get" class="path-menu">
            <button type="submit"> Back </button>
            <input type="text" value={{ current_path }}>
        </form>
        <form action={{ current_path }} method="POST" class="upload-menu" enctype = "multipart/form-data">
            <input type="file" name = "file">
            <button type="submit">Upload</button>
        </form>
        {% if 'thumbnails' in viewmode %}
        <a class="mode-switch__button" href="{{ current_path }}?viewmode=list">Thumbnails</a>
        {% endif %}
        {% if 'list' in viewmode %}
        <a class="mode-switch__button" href="{{ current_path }}?viewmode=thumbnails">List</a>
        {% endif %}
        <form action=/create{{ current_path }} method="POST" class="create=dir" enctype = "multipart/form-data">
            <input type="text" value="dirname">
            <button type="submit">Create</button>
        </form>
        <span class="logo">LWFM</span>
    </nav>
    {% if 'thumbnails' in viewmode %}
       <div class="items-thumbnails">
        {% for element in itemlist %}
            <a href="/{{ element['path'] }}" class="element-thumbnail">
                <img src="/{{ element['thumbnail'] }}" alt="thumbnail">
                <span class="element-thumbnail__name">{{ element['name'] }}</span>
            </a>
        {% endfor %}
        </div>
    {% endif %}
    {% if 'list' in viewmode %}
        <div class="items-list">
            {% for element in itemlist %}
                <div class="items-list__item">
                    <a class="items-list__link" href="/{{ element['path'] }}">
                        <img src="/{{ element['thumbnail'] }}" alt="thumbnail" width="140" height="80">
                        <div class="items-list__details">
                            <span class="items-list__filename">{{ element['name'] }}</span>
                            <span class="items-list__maketime">{{ element['mtime'] }}</span>
                            <span class="items-list__filesize">{{ element['filesize'] }}</span>
                        </div>
                        <form action="/delete/{{ element['path'] }}?viewmode={{ viewmode }}" method="POST" class="delete-form">
                            <button type="submit">Delete</button>
                        </form>
                    </a>
                </div>
            {% endfor %}
        </div>
	</div>
    {% endif %}
{% endblock %}
